        body {
            margin: 0;
            background-color: white;
            font-family: 'Open Sans', sans-serif;
            padding: 20px;
        }

        /* Padronização de todas as legendas e cabeçalhos de seção */
        .section-heading {
            text-align: center;
            margin-bottom: 30px;
            font-family: 'Open Sans', sans-serif;
        }

        .section-heading h3 {
            font-size: 18px;
            color: #888;
            text-transform: uppercase;
            margin-bottom: 5px;
            font-family: 'Open Sans', sans-serif;
        }

        .section-heading h2 {
            font-size: 28px;
            margin: 0 0 10px;
            color: #333;
            font-family: 'Open Sans', sans-serif;
        }

        .section-heading p {
            color: #666;
            font-size: 16px;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
            font-family: 'Open Sans', sans-serif;
        }

        /* Padronização para legendas de visualizações */
        .legend h3,
        #legend h3,
        .legend-title,
        .legend-title-bubble,
        .legend-group-title {
            font-family: 'Open Sans', sans-serif;
            font-size: 14px;
            margin: 0 0 8px 0;
            color: #111;
            border-bottom: 1px solid #eee;
            padding-bottom: 4px;
            font-weight: 600;
        }

        /* Padronização dos itens de legenda */
        .legend-item,
        .legend-cuisine-item,
        .legend-item-bubble {
            font-family: 'Open Sans', sans-serif;
            font-size: 10px;
            color: #333;
        }

        /* Padronização das legendas de regiões */
        .region-label,
        .bubble-label {
            font-family: 'Open Sans', sans-serif;
            font-size: 10px;
            color: #333;
            line-height: 1.2;
        }

        /* Padronização de tooltips */
        #tooltip,
        #tooltip-map,
        #tooltip-bubble,
        #radial-tooltip,
        #chord-tooltip,
        #globe-tooltip,
        #globe-tooltip-fixed,
        .viz-tooltip {
            font-family: 'Open Sans', sans-serif;
            font-size: 13px;
        }

        /* Estilo unificado para todos os tooltips */
        .tooltip-common {
            background: rgba(255, 255, 255, 0.98);
            color: #333;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 13px;
            font-family: 'Open Sans', sans-serif;
            pointer-events: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
            max-width: 280px;
            line-height: 1.5em;
            border: none;
        }

        /* Padronização de controles e botões */
        button,
        select,
        .controls p {
            font-family: 'Open Sans', sans-serif;
        }

        /* Padronização de texto para o gráfico radial */
        #radial-chart text,
        .emoji-label {
            font-family: 'Open Sans', sans-serif;
        }

        /* Padronização da fonte para o painel de informações */
        #infoPanel {
            font-family: 'Open Sans', sans-serif;
        }

        /* Padronização de labels dentro dos gráficos */
        .label {
            font-family: 'Open Sans', sans-serif;
        }

        #bubble-container {
            flex-grow: 1;
            border-radius: 4px;
            background: #fff;
            position: relative;
            height: calc(100vh - 320px);
            /* Increased space for visualization */
            max-height: 650px;
            /* Slightly increased from 600px */
            width: 100%;
            max-width: 700px;
            /* Slightly increased from 650px */
            margin: 0 auto;
            padding: 25px;
            /* Adjusted from 30px for better proportion */
        }

        #bubble-container>svg {
            display: block;
        }

        #tooltip {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 8px 10px;
            border-radius: 3px;
            font-size: 13px;
            font-family: 'Open Sans', sans-serif;
            pointer-events: none;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            transition: opacity 0.3s ease;
            max-width: 200px;
            line-height: 1.4;
            opacity: 0;
            border: 1px solid #eee;
            z-index: 9999;
        }

        .label {
            font-family: 'Open Sans', sans-serif;
            text-anchor: middle;
            pointer-events: none;
            fill: #444;
            font-weight: 600;
        }

        .node {
            stroke: #fff;
            stroke-width: 1.5px;
            transition: stroke-width 0.3s ease;
        }

        .node:hover {
            stroke-width: 2.5px;
        }

        /* Bubble Chart Visualization Styles */
        .visualization-container {
            display: flex;
            flex-direction: row;
            max-width: 700px;
            width: 75%;
            margin: 0 auto;
            overflow: visible !important;
            /* Force overflow visible */
            align-items: flex-start;
            padding-left: 0;
            padding-right: 400px;
            /* Increased padding to match new legend position */
            /* Add padding to accommodate legend */
            background-color: transparent;
            position: relative;
            height: calc(100vh - 280px);
            min-height: 500px;
        }

        #legend-container {
            position: absolute;
            top: 20px;
            right: -380px;
            background: white;
            padding: 18px;
            border-radius: 8px;
            color: #333;
            font-size: 11px;
            z-index: 10;
            max-width: 180px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);
            font-family: 'Open Sans', sans-serif;
        }

        .legend-title {
            font-size: 13px;
            margin: 0 0 12px 0;
            color: #111;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
            font-weight: 600;
            letter-spacing: 0.2px;
        }

        .legend-section {
            margin-bottom: 22px;
            padding: 0 0 5px 0;
            background: transparent;
            border-radius: 0;
            box-shadow: none;
            border: none;
        }

        .legend-section:last-child {
            margin-bottom: 0;
        }

        .legend-subtitle {
            font-size: 12px;
            margin: 0 0 10px 0;
            color: #333;
            font-weight: 600;
            border-left: 3px solid #C62828;
            padding-left: 8px;
            letter-spacing: 0.1px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 3px;
        }

        .legend-item:last-child {
            margin-bottom: 0;
        }

        .bubble-type-item {
            display: flex;
            align-items: center;
            margin-bottom: 6px;
            padding: 2px;
        }

        .bubble-type-item:last-child {
            margin-bottom: 0;
        }

        .bubble-sample {
            width: 8px;
            height: 8px;
            min-width: 8px;
            margin-right: 6px;
            border-radius: 50%;
            background: #f8f8f8;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .bubble-sample.category {
            border: 1px solid #333;
        }

        .bubble-sample.ingredient {
            border: 1px dashed #333;
        }

        .bubble-label {
            font-size: 10px;
            color: #666;
            line-height: 1;
        }

        /* Region Colors Section */
        .color-sample {
            width: 10px;
            height: 10px;
            min-width: 10px;
            margin-right: 4px;
            border-radius: 2px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .region-label {
            font-size: 11px;
            color: #444;
            line-height: 1.2;
        }

        .border-sample {
            width: 12px;
            height: 12px;
            margin-right: 4px;
        }

        .border-solid {
            border: 2px solid #333;
        }

        .border-dashed {
            border: 2px dashed #333;
        }

        .border-thick {
            border-width: 1.8px;
        }

        .border-thin {
            border-width: 1px;
        }

        .legend-item:hover {
            background: #f9f9f9;
        }

        .color-box {
            width: 22px;
            height: 22px;
            margin-right: 12px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        #tooltip strong {
            color: #111;
            font-size: 12px;
        }

        /* End of Bubble Chart Styles */

        #bubble-viz #legend-container {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            padding: 10px;
            /* Was 15px */
            border-radius: 5px;
            /* Was 8px */
            color: #333;
            font-size: 12px;
            /* Was 14px */
            z-index: 10;
            max-width: 150px;
            /* Was 180px */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            /* Was 0 4px 12px rgba(0,0,0,0.15) */
            font-family: 'Open Sans', sans-serif;
        }

        #bubble-viz .bubble-label,
        #bubble-viz .region-label {
            font-size: 10px;
            color: #333;
            line-height: 1.2;
            white-space: nowrap;
            /* Added */
            overflow: hidden;
            /* Added */
            text-overflow: ellipsis;
            /* Added */
        }

        /* Hide category text labels in the radial chart visualization (only inside the nodes, not in legend) */
        #radial-chart g text[dy="0.35em"][text-anchor="middle"][font-size="12px"] {
            display: none !important;
        }

        /* Additional specific selector to hide text labels inside the nodes */
        #radial-chart g>circle+text:not(.emoji-label) {
            display: none !important;
        }

        /* Keep emoji labels visible and make them larger */
        #radial-chart g text.emoji-label {
            display: inline !important;
            font-size: 24px !important;
        }

        /* Extra CSS to force-hide all other text in the SVG */
        #radial-chart text:not(.emoji-label),
        #radial-chart g text:not([class="emoji-label"]) {
            display: none !important;
        }

        /* Force correct emoji display */
        #radial-chart text.emoji-label {
            display: inline !important;
            font-size: 24px !important;
        }

        /* Responsive adjustments for Team Section */
        @media (max-width: 992px) {
            #team-section .team-members-container {
                gap: 32px;
                /* Reduced gap for medium screens */
            }
        }

        /* Removing sphere styles */
        .sphere {
            fill: #000000;
            /* Black ocean */
        }

        .graticule {
            fill: none;
            stroke: #000000;
            /* Alterado para preto, combinando com os contornos dos países */
            stroke-width: 0.3px;
            stroke-opacity: 0.8;
            /* Aumentado de 0.6 para 0.8 para melhor visibilidade */
        }

        .boundary {
            fill: none;
            stroke: #000000;
            /* Alterado para contornos pretos */
            stroke-width: 0.6px;
            /* A bit thicker for visibility */
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border-radius: 3px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        /* Estilos modernos para mapa e visualizações */
        .tooltip-map {
            /* Base styles for when not active - these are mostly for fallback or direct class use */
            position: fixed;
            /* Changed from absolute for better cross-context behavior */
            background: rgba(40, 40, 40, 0.9);
            color: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 13px;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            z-index: 9999;
            /* High z-index */
            display: none;
            /* Initially hidden */
        }

        .tooltip-map.active {
            opacity: 1 !important;
            /* Ensure it overrides inline if necessary */
            transform: scale(1) !important;
            display: block !important;
            visibility: visible !important;
            /* Ensure it's visible */
            /* backdrop-filter: blur(8px); /* Keep if you like this effect */
            /* -webkit-backdrop-filter: blur(8px); */
            /* background: rgba(40, 40, 40, 0.85); /* Already set in .tooltip-map */
            /* border: 1px solid rgba(255, 255, 255, 0.1); */
        }

        /* Estilos refinados para itens da legenda */
        .legend-item {
            cursor: pointer;
            margin: 3px 0;
            padding: 7px 10px;
            border-radius: 6px;
            transition: all 0.25s cubic-bezier(0.165, 0.84, 0.44, 1);
            display: flex;
            align-items: center;
            font-size: 12px;
            color: #333;
            background: rgba(255, 255, 255, 0.5);
            border-left: 3px solid transparent;
        }

        .legend-item:hover {
            background-color: #f0f4f8;
            transform: translateX(2px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            border-left-color: #e74c3c;
        }

        .legend-item.inactive {
            opacity: 0.65;
            filter: grayscale(40%);
        }

        .legend-item.inactive:hover {
            opacity: 0.8;
            background-color: #f0f4f8;
        }

        .legend-color {
            display: inline-block;
            width: 14px;
            height: 14px;
            margin-right: 8px;
            vertical-align: middle;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .legend-group {
            margin-bottom: 14px;
        }

        .legend-group-title {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 6px;
            padding-bottom: 4px;
            border-bottom: 2px solid #f0f0f0;
            color: #333;
            letter-spacing: 0.5px;
            font-family: 'Open Sans', sans-serif;
        }

        /* Estilização moderna para o controle deslizante de ano */
        input[type="range"] {
            height: 30px;
            -webkit-appearance: none;
            margin: 10px 0;
            width: 100%;
            background: transparent;
            border: none;
            outline: none;
            position: relative;
            z-index: 5;
            cursor: pointer;
        }

        input[type="range"]:focus {
            outline: none;
            border: none;
        }

        input[type="range"]::-webkit-slider-runnable-track {
            width: 100%;
            height: 8px;
            cursor: pointer;
            animate: 0.2s;
            background: linear-gradient(to right, rgba(231, 76, 60, 0.3), rgba(231, 76, 60, 0.9));
            border-radius: 0;
            box-shadow: none;
            border: none;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            /* Standard property */
            height: 20px;
            /* Still need some size for interaction */
            width: 20px;
            margin-top: -7px;
            /* Adjust to center on a 6px high track, if track height changes adjust this */
            background: transparent;
            /* Make default thumb invisible */
            border: transparent;
            /* Ensure border is also invisible */
            box-shadow: none;
            cursor: pointer;
            border-radius: 50%;
            /* Can make it round even if invisible, just in case */
            transition: transform 0.2s ease;
        }

        input[type="range"]::-moz-range-thumb {
            /* Firefox */
            height: 20px;
            width: 20px;
            background: transparent;
            border: transparent;
            border-radius: 50%;
            cursor: pointer;
        }

        input[type="range"]::-ms-thumb {
            /* IE/Edge */
            height: 20px;
            width: 20px;
            background: transparent;
            border: transparent;
            border-radius: 50%;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 6px rgba(231, 76, 60, 0.6);
        }

        input[type="range"]:active::-webkit-slider-thumb {
            transform: scale(1.15);
            box-shadow: 0 3px 8px rgba(231, 76, 60, 0.7);
        }

        /* Estilização dos botões */
        #playPauseBtn {
            background: linear-gradient(145deg, #000000, #000000);
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            margin-right: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            box-shadow: 0 2px 6px rgba(231, 76, 60, 0.18);
            transition: all 0.2s ease;
        }

        #playPauseBtn i {
            font-size: 14px !important;
        }

        #playPauseBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 10px #000000;
        }

        #playPauseBtn:active {
            transform: scale(0.98);
        }

        #resetBtn {
            background: #f8f8f8;
            color: #333;
            border: none;
            border-radius: 0;
            padding: 8px 16px;
            margin-left: 15px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            flex-shrink: 0;
            box-shadow: none;
            transition: all 0.2s ease;
        }

        #resetBtn:hover {
            background: #ebebeb;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        }

        /* Estilização da seção de tipos de cozinha */
        #legend {
            background: #ffffff;
            padding: 22px;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            border: 1px solid #f0f0f0;
        }

        #legend h3 {
            margin-top: 0;
            margin-bottom: 18px;
            font-size: 20px;
            font-weight: 600;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 12px;
            letter-spacing: 0.5px;
        }

        /* Melhorias no mapa e containers */
        #map {
            width: 100%;
            height: 600px;
            display: block;
            background-color: #ffffff;
            border: none;
            /* Removed border */
            border-radius: 10px;
            /* Kept border-radius for consistency if needed elsewhere */
            box-shadow: none;
            /* Removed inner shadow */
        }

        .tick-marks {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 10px;
        }

        .tick-marks span {
            font-size: 12px;
            font-weight: 500;
            color: #555;
        }

        /* Visualização dos nós do gráfico de bolhas */
        .node {
            transition: all 0.3s ease;
        }

        .node:hover {
            filter: brightness(1.05);
        }

        #tooltip-map {
            transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
            position: absolute;
            background: rgba(40, 40, 40, 0.9);
            color: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 13px;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.95);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            z-index: 9999;
        }

        /* Tooltip for the map */
        #tooltip-map {
            position: fixed;
            /* Use fixed for consistent positioning relative to viewport */
            background: rgba(40, 40, 40, 0.9);
            color: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 13px;
            pointer-events: none;
            /* Allows clicks to pass through to map elements */
            opacity: 0;
            /* Start hidden */
            transform: scale(0.95);
            transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            z-index: 10000;
            /* Ensure it's above other elements, increased from 9999 */
            display: none;
            /* Start hidden */
        }

        #tooltip-map.active {
            opacity: 1;
            transform: scale(1);
            display: block;
            /* Show when active */
            visibility: visible;
        }

        /* Tooltip for the map - updated for light theme */
        #tooltip-map.tooltip {
            position: fixed;
            background: rgba(255, 255, 255, 0.98);
            color: #333;
            padding: 10px 15px;
            /* Adjusted padding slightly from bubble chart's 12px 15px */
            border-radius: 6px;
            font-size: 13px;
            /* Consistent with previous map tooltip */
            font-family: 'Open Sans', sans-serif;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
            z-index: 10000;
            display: none;
            max-width: 280px;
            /* From bubble chart tooltip */
            line-height: 1.5em;
            /* From bubble chart tooltip */
            border: none;
            /* From bubble chart tooltip */
        }

        #tooltip-map.tooltip.active {
            opacity: 1;
            transform: scale(1);
            display: block;
            visibility: visible;
        }

        #tooltip-map.tooltip strong {
            color: #111;
            /* For strong tags within this tooltip */
            font-weight: 600;
        }

        /* Estilos da legenda removidos e substituídos pela versão atualizada abaixo */

        #bubble-viz .border-solid-bubble {
            border: 2px solid #333;
        }

        #bubble-viz .border-dashed-bubble {
            border: 2px dashed #333;
        }

        #bubble-viz .border-thick-bubble {
            border-width: 1.8px;
        }

        #bubble-viz .border-thin-bubble {
            border-width: 1px;
        }

        #bubble-viz #bubble-container-chart {
            /* Renamed */
            flex-grow: 1;
            /* width: 900px; /* Let it be responsive */
            height: 750px;
            /* Adjusted height */
            display: flex;
            justify-content: center;
            align-items: center;
            /* margin-left: 30px; /* Adjusted */
            position: relative;
        }

        #bubble-viz #tooltip-bubble {
            /* Renamed */
            position: absolute;
            background: rgba(255, 255, 255, 0.98);
            color: #333;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 14px;
            font-family: 'Open Sans', sans-serif;
            pointer-events: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            max-width: 280px;
            line-height: 1.5em;
            opacity: 0;
            border: none;
            z-index: 9999;
        }

        #bubble-viz #tooltip-bubble strong {
            color: #111;
            font-weight: 600;
        }

        #bubble-viz .label-bubble {
            font-family: 'Open Sans', sans-serif;
            text-anchor: middle;
            pointer-events: none;
            fill: #222; /* melhor visibilidade que branco */
            font-size: 11px;
            font-weight: 600;
            dominant-baseline: text-after-edge; /* mantém no topo */
        }
        
        #bubble-viz .label-background-bubble {
            fill: white;
            stroke: #ccc;
            stroke-width: 0.5px;
            rx: 4;
            ry: 4;
            filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1));
        }
        

        #bubble-viz .node-bubble {
            /* Renamed */
            stroke: #fff;
            stroke-width: 1.5px;
        }
      

        #bubble-viz #legend-container-bubble {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 220px;
            min-width: 220px;
            padding: 10px 12px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 6px;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(0, 0, 0, 0.05);
            z-index: 100;
            font-size: 12px;
            font-family: 'Open Sans', sans-serif;
            pointer-events: auto;
        }

        #bubble-viz .legend-title-bubble {
            margin-top: 0;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            border-bottom: 1px solid #eee;
            padding-bottom: 6px;
        }

        #bubble-viz .legend-section-bubble {
            margin-bottom: 12px;
        }

        #bubble-viz .legend-subtitle-bubble {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 6px;
            color: #555;
            padding-left: 5px;
            border-left: 2px solid #ddd;
        }

        #bubble-viz .legend-item-bubble {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            padding: 2px 3px;
            border-radius: 3px;
        }

        #bubble-viz .legend-item-bubble:hover {
            background: rgba(0, 0, 0, 0.03);
        }

        #bubble-viz .color-box-bubble {
            width: 15px;
            height: 15px;
            margin-right: 7px;
            border-radius: 3px;
        }

        #bubble-viz .border-sample-bubble {
            width: 20px;
            height: 20px;
            margin-right: 7px;
            border-radius: 50%;
            background: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .custom-slider {
            width: 100%;
            height: 16px;
            background: transparent;
            border: none;
            outline: none;
            position: relative;
            margin: 0;
            padding: 0;
        }

        .custom-slider::-webkit-slider-runnable-track {
            width: 100%;
            height: 16px;
            background: #e0e0e0;
            border-radius: 8px;
            position: relative;
        }

        .custom-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.18);
            border: 3px solid #000000;
            margin-top: -6px;
            cursor: pointer;
            transition: box-shadow 0.2s;
        }

        .custom-slider:focus::-webkit-slider-thumb {
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.25);
        }

        .custom-slider::-ms-fill-lower {
            background: #000000;
            border-radius: 8px;
        }

        .custom-slider::-ms-fill-upper {
            background: #e0e0e0;
            border-radius: 8px;
        }

        .custom-slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.18);
            border: 3px solid #000000;
            cursor: pointer;
        }

        .custom-slider::-moz-range-track {
            width: 100%;
            height: 16px;
            background: #e0e0e0;
            border-radius: 8px;
        }

        .custom-slider::-ms-thumb {
            width: 28px;
            height: 28px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.18);
            border: 3px solid #000000;
            cursor: pointer;
        }

        .custom-slider:focus {
            outline: none;
        }

        .custom-slider::-ms-tooltip {
            display: none;
        }

        .custom-slider:focus::-ms-fill-lower {
            background: #000000;
        }

        .custom-slider:focus::-ms-fill-upper {
            background: #e0e0e0;
        }

        .custom-slider::-webkit-slider-thumb:hover {
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.25);
        }

        .custom-slider::-webkit-slider-thumb:active {
            box-shadow: 0 6px 16px rgba(231, 76, 60, 0.35);
        }

        .custom-slider::-moz-focus-outer {
            border: 0;
        }

        .custom-slider::-webkit-slider-thumb {
            z-index: 2;
            position: relative;
        }

        .custom-slider::-webkit-slider-runnable-track {
            z-index: 1;
        }

        .custom-slider-progress {
            position: absolute;
            height: 16px;
            background: #000000;
            border-radius: 8px;
            top: 0;
            left: 0;
            z-index: 1;
            pointer-events: none;
        }

        input[type="range"].custom-slider {
            width: 100%;
            height: 16px;
            background: transparent;
            border: none;
            outline: none;
            margin: 0;
            padding: 0;
        }

        input[type="range"].custom-slider::-webkit-slider-runnable-track {
            width: 100%;
            height: 16px;
            background: #000000;
            border-radius: 8px;
        }

        input[type="range"].custom-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.18);
            border: 3px solid #000000;
            margin-top: -6px;
            cursor: pointer;
            transition: box-shadow 0.2s;
            position: relative;
            z-index: 2;
        }

        input[type="range"].custom-slider:focus::-webkit-slider-thumb {
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.25);
        }

        input[type="range"].custom-slider::-ms-fill-lower {
            background: #000000;
            border-radius: 8px;
        }

        input[type="range"].custom-slider::-ms-fill-upper {
            background: #000000;
            border-radius: 8px;
        }

        input[type="range"].custom-slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.18);
            border: 3px solid #000000;
            cursor: pointer;
        }

        input[type="range"].custom-slider::-moz-range-track {
            width: 100%;
            height: 16px;
            background: #000000;
            border-radius: 8px;
        }

        input[type="range"].custom-slider::-ms-thumb {
            width: 28px;
            height: 28px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.18);
            border: 3px solid #000000;
            cursor: pointer;
        }

        input[type="range"].custom-slider:focus {
            outline: none;
        }

        input[type="range"].custom-slider::-ms-tooltip {
            display: none;
        }

        input[type="range"].custom-slider:focus::-ms-fill-lower {
            background: #e74c3c;
        }

        input[type="range"].custom-slider:focus::-ms-fill-upper {
            background: #e74c3c;
        }

        input[type="range"].custom-slider::-webkit-slider-thumb:hover {
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.25);
        }

        input[type="range"].custom-slider::-webkit-slider-thumb:active {
            box-shadow: 0 6px 16px rgba(231, 76, 60, 0.35);
        }

        input[type="range"].custom-slider::-moz-focus-outer {
            border: 0;
        }




        /* Estilos modernos para mapa e visualizações */
        .tooltip-map.active,
        #tooltip-map.active {
            opacity: 1 !important;
            transform: scale(1) !important;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            background: rgba(40, 40, 40, 0.85) !important;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: block !important;
            z-index: 1000;
            visibility: visible !important;
        }

        /* Estilos refinados para itens da legenda */
        .legend-item {
            cursor: pointer;
            margin: 3px 0;
            padding: 7px 10px;
            border-radius: 6px;
            transition: all 0.25s cubic-bezier(0.165, 0.84, 0.44, 1);
            display: flex;
            align-items: center;
            font-size: 12px;
            color: #333;
            background: rgba(255, 255, 255, 0.5);
            border-left: 3px solid transparent;
        }

        .legend-item:hover {
            background-color: #f0f4f8;
            transform: translateX(2px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            border-left-color: #e74c3c;
        }

        .legend-item.inactive {
            opacity: 0.65;
            filter: grayscale(40%);
        }

        .legend-item.inactive:hover {
            opacity: 0.8;
            background-color: #f0f4f8;
        }

        .legend-color {
            display: inline-block;
            width: 14px;
            height: 14px;
            margin-right: 8px;
            vertical-align: middle;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .legend-group {
            margin-bottom: 14px;
        }

        .legend-group-title {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 6px;
            padding-bottom: 4px;
            border-bottom: 2px solid #f0f0f0;
            color: #333;
            letter-spacing: 0.5px;
        }

        /* Estilização moderna para o controle deslizante de ano */
        input[type="range"] {
            height: 30px;
            -webkit-appearance: none;
            margin: 10px 0;
            width: 100%;
            background: transparent;
            border: none;
            outline: none;
            position: relative;
            z-index: 5;
            cursor: pointer;
        }

        input[type="range"]:focus {
            outline: none;
            border: none;
        }

        input[type="range"]::-webkit-slider-runnable-track {
            width: 100%;
            height: 8px;
            cursor: pointer;
            animate: 0.2s;
            background: linear-gradient(to right, rgba(231, 76, 60, 0.3), rgba(231, 76, 60, 0.9));
            border-radius: 0;
            box-shadow: none;
            border: none;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            /* Standard property */
            height: 20px;
            /* Still need some size for interaction */
            width: 12px;
            margin-top: -4px;
            /* Adjust to center on a 6px high track, if track height changes adjust this */
            background: transparent;
            /* Make default thumb invisible */
            border: transparent;
            /* Ensure border is also invisible */
            box-shadow: none;
            cursor: pointer;
            border-radius: 50%;
            /* Can make it round even if invisible, just in case */
            transition: transform 0.2s ease;
        }

        input[type="range"]::-moz-range-thumb {
            /* Firefox */
            height: 20px;
            width: 12px;
            background: transparent;
            border: transparent;
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        input[type="range"]::-ms-thumb {
            /* IE/Edge */
            height: 20px;
            width: 12px;
            background: transparent;
            border: transparent;
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 6px rgba(231, 76, 60, 0.6);
        }

        input[type="range"]:active::-webkit-slider-thumb {
            transform: scale(1.15);
            box-shadow: 0 3px 8px rgba(231, 76, 60, 0.7);
        }

        /* Estilização dos botões */
        #playPauseBtn {
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            margin-right: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            box-shadow: 0 2px 6px rgba(231, 76, 60, 0.18);
            transition: all 0.2s ease;
        }

        #playPauseBtn i {
            font-size: 14px !important;
        }

        #playPauseBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(231, 76, 60, 0.4);
        }

        #playPauseBtn:active {
            transform: scale(0.98);
        }

        #resetBtn {
            background: #f8f8f8;
            color: #333;
            border: none;
            border-radius: 0;
            padding: 8px 16px;
            margin-left: 15px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            flex-shrink: 0;
            box-shadow: none;
            transition: all 0.2s ease;
        }

        #resetBtn:hover {
            background: #ebebeb;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        }

        /* Estilização da seção de tipos de cozinha */
        #legend {
            background: #ffffff;
            padding: 22px;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            border: 1px solid #f0f0f0;
        }

        #legend h3 {
            margin-top: 0;
            margin-bottom: 18px;
            font-size: 20px;
            font-weight: 600;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 12px;
            letter-spacing: 0.5px;
        }

        /* Melhorias no mapa e containers */
        #map {
            width: 100%;
            height: 600px;
            display: block;
            background-color: #ffffff;
            border: none;
            /* Removed border */
            border-radius: 10px;
            /* Kept border-radius for consistency if needed elsewhere */
            box-shadow: none;
            /* Removed inner shadow */
        }

        .tick-marks {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 10px;
        }

        .tick-marks span {
            font-size: 12px;
            font-weight: 500;
            color: #555;
        }

        /* Visualização dos nós do gráfico de bolhas */
        .node {
            transition: all 0.3s ease;
        }

        .node:hover {
            filter: brightness(1.05);
        }

        #tooltip-map {
            transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
            position: absolute;
            background: rgba(40, 40, 40, 0.9);
            color: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 13px;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.95);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            z-index: 9999;
        }



        /* Styles from bubbling.html, scoped as much as possible or integrated */
        /* Ensure body styles from bubbling.html don't override the main page body style */
        #bubble-viz {
            /* Scope general styles to this section */
            background-color: #FFFFFF;
            font-family: 'Open Sans', sans-serif;
            padding: 30px;
            /* This padding is for the outer section */
            overflow-x: hidden;
            color: #444;
        }

        #bubble-viz .section-heading {
            text-align: center;
            margin-bottom: 40px;
        }

        #bubble-viz .section-heading h3 {
            font-size: 16px;
            color: #888;
            text-transform: uppercase;
            margin-bottom: 5px;
            letter-spacing: 1.5px;
            font-weight: 600;
        }

        #bubble-viz .section-heading h2 {
            font-size: 32px;
            margin: 0 0 15px;
            color: #333;
            font-weight: 700;
        }

        #bubble-viz .section-heading p {
            color: #666;
            font-size: 17px;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        #bubble-viz .visualization-container-bubble {
            /* Renamed to avoid conflict */
            display: flex;
            flex-direction: row;
            max-width: 1100px;
            margin: 0 auto;
            overflow: visible;
            align-items: flex-start;
            background-color: #FFFFFF;
            /* Changed to white */
            border-radius: 0;
            /* Removed border-radius */
            box-shadow: none;
            /* Removed box-shadow */
            padding: 0;
            /* Removed padding */
        }

        #bubble-viz #legend-container-bubble {
            /* Renamed */
            width: 220px;
            min-width: 220px;
            margin-right: 30px;
            /* Adjusted margin */
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            align-self: flex-start;
            /* margin-left: -80px; /* Removed this negative margin */
            border: 1px solid #f0f0f0;
        }

        #bubble-viz .legend-title-bubble {
            /* Renamed */
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 17px;
            font-weight: bold;
            font-family: 'Open Sans', sans-serif;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }

        #bubble-viz .legend-section-bubble {
            /* Renamed */
            margin-bottom: 25px;
        }

        #bubble-viz .legend-subtitle-bubble {
            /* Renamed */
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #555;
            border-left: 3px solid #ddd;
            padding-left: 8px;
        }

        #bubble-viz .legend-item-bubble {
            /* Renamed */
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 5px;
            border-radius: 4px;
            transition: background 0.2s;
        }

        #bubble-viz .legend-item-bubble:hover {
            background: #f9f9f9;
        }

        #bubble-viz .color-box-bubble {
            /* Renamed */
            width: 22px;
            height: 22px;
            margin-right: 12px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        #bubble-viz .border-sample-bubble {
            /* Renamed */
            width: 26px;
            height: 26px;
            margin-right: 12px;
            border-radius: 50%;
            background: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
        }

        #bubble-viz .border-solid-bubble {
            /* Renamed */
            border: 2px solid #333;
        }

        #bubble-viz .border-dashed-bubble {
            /* Renamed */
            border: 2px dashed #333;
        }

        #bubble-viz .border-thick-bubble {
            /* Renamed */
            border-width: 1.8px;
        }

        #bubble-viz .border-thin-bubble {
            /* Renamed */
            border-width: 1px;
        }

        #bubble-viz #bubble-container-chart {
            /* Renamed */
            flex-grow: 1;
            /* width: 900px; /* Let it be responsive */
            height: 750px;
            /* Adjusted height */
            display: flex;
            justify-content: center;
            align-items: center;
            /* margin-left: 30px; /* Adjusted */
            position: relative;
        }

        #bubble-viz #tooltip-bubble {
            /* Renamed */
            position: absolute;
            background: rgba(255, 255, 255, 0.98);
            color: #333;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 14px;
            font-family: 'Open Sans', sans-serif;
            pointer-events: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            max-width: 280px;
            line-height: 1.5em;
            opacity: 0;
            border: none;
            z-index: 9999;
        }

        #bubble-viz #tooltip-bubble strong {
            color: #111;
            font-weight: 600;
        }

        #bubble-viz .label-bubble {
            /* Renamed */
            font-family: 'Open Sans', sans-serif;
            text-anchor: middle;
            pointer-events: none;
            fill: white;
            font-weight: 600;
        }

        #bubble-viz .node-bubble {
            /* Renamed */
            stroke: #fff;
            stroke-width: 1.5px;
        }